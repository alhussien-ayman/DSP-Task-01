<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>ECG Signal Analyzer - Advanced Diagnostic Tool</title>
    <meta name="description" content="Advanced 12-Lead ECG Analysis and AI-Powered Classification" />
    <meta name="keywords" content="ECG, ECG Analysis, Heart Monitoring, Medical Diagnostics, AI Classification" />

    <!-- Favicons -->
    <link href="assets/img/logodps2.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet" />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet" />
    <link href="assets/css/ecg-analyzer.css" rel="stylesheet" />
    
    <style>
        .chart-container-sm { height: 300px; width: 100%; }
        .chart-container { height: 400px; width: 100%; }
        .stat-card { height: 100%; }
        .stat-value { font-size: 1.5rem; font-weight: bold; }
        .ecg-controls { background-color: #f8f9fa; padding: 1.5rem; border-radius: 0.375rem; border: 1px solid #dee2e6; }
        .classification-result { padding: 1rem; border-radius: 0.375rem; border: 1px solid #dee2e6; }
        .classification-result.normal { background-color: #d1edff; }
        .classification-result.abnormal { background-color: #ffe0e0; }
        .toast { position: fixed; top: 20px; right: 20px; z-index: 9999; }
        .visualization-controls { background-color: #f8f9fa; padding: 1rem; border-radius: 0.375rem; margin-bottom: 1rem; }
        .mode-tab { cursor: pointer; }
        .mode-tab.active { background-color: #007bff; color: white; }
        .visualization-container { min-height: 500px; }
        .lead-legend { font-size: 12px; margin-top: 10px; }
        .legend-item { display: inline-block; margin-right: 15px; }
        .legend-color { display: inline-block; width: 12px; height: 12px; margin-right: 5px; }
    </style>
</head>

<body class="service-details-page">
    <header id="header" class="header d-flex align-items-center sticky-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center">
            <a href="index.html" class="logo d-flex align-items-center me-auto">
                <img src="assets/img/logodsp2.png" alt="" />
            </a>

            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a href="index.html#hero">Home</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#services">Services</a></li>
                    <li><a href="index.html#portfolio">Portfolio</a></li>
                    <li><a href="index.html#team">Team</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>

            <a class="btn-getstarted" href="index.html#about">Get Started</a>
        </div>
    </header>

    <main class="main">
        <!-- Page Title -->
        <div class="page-title">
            <div class="container d-lg-flex justify-content-between align-items-center">
                <h1 class="mb-2 mb-lg-0">Advanced ECG Signal Analyzer</h1>
                <nav class="breadcrumbs">
                    <ol>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#services">Services</a></li>
                        <li class="current">ECG Analyzer</li>
                    </ol>
                </nav>
            </div>
        </div>
        <!-- End Page Title -->

        <!-- ECG Analyzer Section -->
        <section id="ecg-analyzer" class="ecg-analyzer section light-background">
            <div class="container">
                <!-- File Upload & Controls Section -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="150">
                    <div class="col-12">
                        <div class="ecg-controls">
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <label class="form-label">Upload 12-Lead ECG Dataset</label>
                                    <input type="file" id="fileInput" class="form-control" accept=".csv,.mat,.edf,.dat,.hea" />
                                    <small class="form-text text-muted">Supported formats: CSV, MAT, EDF, WFDB</small>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">Window Size</label>
                                    <select id="windowSize" class="form-select">
                                        <option value="5">5 seconds</option>
                                        <option value="10" selected>10 seconds</option>
                                        <option value="15">15 seconds</option>
                                        <option value="20">20 seconds</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">Sampling Rate</label>
                                    <select id="samplingRate" class="form-select">
                                        <option value="250">250 Hz</option>
                                        <option value="360" selected>360 Hz</option>
                                        <option value="500">500 Hz</option>
                                        <option value="1000">1000 Hz</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Visualization Mode</label>
                                    <select id="visualizationMode" class="form-select">
                                        <option value="continuous">Continuous-Time Viewer</option>
                                        <option value="xor">XOR Graph</option>
                                        <option value="polar">Polar Graph</option>
                                        <option value="recurrence">Recurrence Plot</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <div class="d-flex gap-2 flex-wrap">
                                        <button id="playPauseBtn" class="btn btn-primary" disabled>
                                            <i class="bi bi-play-fill me-1"></i>Play Animation
                                        </button>
                                        <button id="analyzeBtn" class="btn btn-outline-primary">
                                            <i class="bi bi-graph-up me-1"></i>Analyze ECG
                                        </button>
                                        <button id="classifyBtn" class="btn btn-outline-success" disabled>
                                            <i class="bi bi-cpu me-1"></i>AI Classification
                                        </button>
                                        <button id="resetBtn" class="btn btn-outline-secondary">
                                            <i class="bi bi-arrow-clockwise me-1"></i>Reset
                                        </button>
                                        <button id="exportResultsBtn" class="btn btn-outline-info">
                                            <i class="bi bi-download me-1"></i>Export Results
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lead Selection Section -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mb-3">Lead Selection</h5>
                                <div class="row">
                                    <!-- Lead checkboxes will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loading Indicator -->
                <div class="loading text-center py-4" id="loading" style="display: none;">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2 mb-0">Processing ECG data...</p>
                </div>

                <!-- Timeline Control -->
                <div class="timeline-control card mb-4" id="timelineControl" style="display: none;">
                    <div class="card-body">
                        <div class="timeline-header d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Animation Timeline</h5>
                            <div class="timeline-info">
                                <span id="currentTime">0.0s</span> / <span id="totalTime">0.0s</span>
                            </div>
                        </div>
                        <div class="timeline-slider">
                            <input type="range" id="timelineSlider" class="form-range" min="0" max="100" value="0" step="0.1" />
                        </div>
                        <div class="timeline-progress mt-2">
                            <div class="progress" style="height: 6px">
                                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Visualization Area -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title" id="visualizationTitle">12-Lead ECG Signal</h5>
                                
                                <!-- Visualization Mode Specific Controls -->
                                <div class="visualization-controls" id="modeControls" style="display: none;">
                                    <!-- Controls will be populated based on selected mode -->
                                </div>
                                
                                <div class="chart-container">
                                    <div id="mainChart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Dashboard -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="250">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">Heart Rate</h6>
                                        <div class="stat-value text-primary" id="heartRate">-- bpm</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">RR Interval</h6>
                                        <div class="stat-value text-info" id="rrInterval">-- ms</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">QRS Width</h6>
                                        <div class="stat-value text-warning" id="qrsWidth">-- ms</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">Total Beats</h6>
                                        <div class="stat-value text-success" id="totalBeats">--</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">Signal Quality</h6>
                                        <div class="stat-value text-secondary" id="signalQuality">--%</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-6 mb-3">
                                <div class="stat-card card text-center">
                                    <div class="card-body">
                                        <h6 class="card-title">Duration</h6>
                                        <div class="stat-value text-dark" id="signalDuration">-- s</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Classification Results -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">AI Classification Results</h5>
                                <div id="classificationResult" class="text-center py-3">
                                    <p class="text-muted">Upload ECG data and click "AI Classification" to see results</p>
                                </div>
                                <div class="chart-container-sm">
                                    <div id="probabilityChart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Additional Visualizations -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="350">
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Polar Coordinate Analysis</h5>
                                <div class="chart-container-sm">
                                    <div id="polarChart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Recurrence Plot</h5>
                                <div class="chart-container-sm">
                                    <div id="recurrenceChart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- P-QRS-T Points Display -->
                <div class="row mb-4" data-aos="fade-up" data-aos-delay="400">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">P-QRS-T Complex Analysis</h5>
                                <div class="row text-center">
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-primary fw-bold" id="pPoints">0</div>
                                            <small class="text-muted">P Points</small>
                                        </div>
                                    </div>
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-success fw-bold" id="qPoints">0</div>
                                            <small class="text-muted">Q Points</small>
                                        </div>
                                    </div>
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-danger fw-bold" id="rPoints">0</div>
                                            <small class="text-muted">R Points</small>
                                        </div>
                                    </div>
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-warning fw-bold" id="sPoints">0</div>
                                            <small class="text-muted">S Points</small>
                                        </div>
                                    </div>
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-info fw-bold" id="tPoints">0</div>
                                            <small class="text-muted">T Points</small>
                                        </div>
                                    </div>
                                    <div class="col-md-2 col-4 mb-3">
                                        <div class="p-3 border rounded">
                                            <div class="text-secondary fw-bold" id="qtInterval">-- ms</div>
                                            <small class="text-muted">QT Interval</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer" class="footer">
        <!-- Footer content remains the same -->
    </footer>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

    <!-- ECG Analyzer JS -->
    <script src="assets/js/ecg-analyzer.js"></script>
</body>
</html>